<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>THÔNG TIN TÀI KHOẢN</title>
    <link rel="icon" href="design/themes/bright_theme/media/tatmart/images/home/fav.png" type="image/gif" sizes="16x16">
    <link rel="stylesheet" href="css/information-account.css">
</head>

<body class="information-account-page">
<!-- Header -->
<header class="header2">
    <a class="back" href="account.html">
        <img src="design/themes/bright_theme/media/tatmart/images/category/back.svg" alt=""/>
    </a>
    <h1>Thông tin tài khoản</h1>
</header>
<!--Main-->
<div class="main-mobile">
    <div class="container">
    <form action="#" method="post">
        <div class="avatar">
            <div class="bg-avatar">
                <img src="design/themes/bright_theme/media/tatmart/images/home/product.png" alt="avatar" id="avatar"/>
            </div>
            <div class="edit-avatar">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/edit.svg" alt="edit avatar"/>
            </div>
            <input type="file" title="upload avatar" class="upload-avatar" name="avatar" onchange="cropImgFunc(event)" />
        </div>
        <div class="form-input">
            <label class="top">Họ & tên:</label>
            <input type="text" title="Họ và tên" name="hoten" class="input"/>
            <div class="delete">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/delete.svg" alt="delete"/>
            </div>
        </div>
        <div class="form-input">
            <label class="top">Ngày Sinh:</label>
            <div class="brithday">
                <select id="day" title="ngày" class="input">
                    <option value="">Ngày</option>
                </select>
                <select id="month" title="tháng" class="input">
                    <option value="">Tháng</option>
                </select>
                <select id="year" title="năm" class="input">
                    <option value="">Năm</option>
                </select>
            </div>
        </div>
        <div class="form-input gender">
            <label class="top">Giới tính:</label>
            <div class="gender-male">
                <input id="male" type="radio" name="gender" checked>
                <label for="male">Nam</label>
            </div>
            <div class="gender-female">
                <input id="female" type="radio" name="gender">
                <label for="female">Nữ</label>
            </div>
        </div>
        <button type="submit" class="submit">Lưu thay đổi</button>
    </form>
    <div class="item-group">
        <h2>Số điện thoại và Email</h2>
        <div class="item email">
            <div class="text">
                <span>Email:</span>
                <span>ly.....................com</span>
            </div>
            <button class="update">Cập nhật</button>
        </div>
        <div class="item phone">
            <div class="text">
                <span>Điện thoại:</span>
                <span>0987 226 224</span>
            </div>
            <button class="update">Cập nhật</button>
        </div>
    </div>
    <div class="item-group social">
        <h2>Liên kết mạng xã hội:</h2>
        <div class="item">
            <div class="text">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/facebook.svg" alt="liên kết mạng xã hội facebook"/>
                <span>Facebook</span>
            </div>
            <button class="connect">Liên kết</button>
        </div>
        <div class="item">
            <div class="text active">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/google.svg" alt="liên kết mạng xã hội google"/>
                <span>Google</span>
            </div>
            <button class="disconnect">Hủy liên kết</button>
        </div>
    </div>
    <div class="item-group">
        <h2>Bảo mật:</h2>
        <div class="item">
            <div class="text">
                <span>Đổi mật khẩu</span>
            </div>
            <button class="change-password">Thay đổi</button>
        </div>
    </div>
</div>


</div>
<div class="bg-black-opacity hidden"></div>
<!-- Change PassWord -->
<div class="popup popup-password">
    <div class="head">
        <span class="close">
             <img src="design/themes/bright_theme/media/tatmart/images/information-account/close.svg" alt="close"/>
        </span>
        <h2>Đổi mật khẩu</h2>
    </div>
    <form method="post" action="#">
        <div class="form-input">
            <label>Nhập mật khẩu mới</label>
            <input title="password" type="text" name="password" class="input" />
            <div class="delete">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/delete.svg" alt="delete"/>
            </div>
        </div>
        <div class="form-input">
            <label>Nhập lại mật khẩu mới</label>
            <input title="repassword" type="text" name="repassword" class="input"/>
            <div class="delete">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/delete.svg" alt="delete"/>
            </div>
        </div>
        <div class="bottom">
            <button type="submit" class="submit">Lưu thay đổi</button>
        </div>
    </form>
</div>

<!-- Upload Avartar -->
<div class="popup popup-upload-avatar">
    <div class="head">
        <span class="close">
             <img src="design/themes/bright_theme/media/tatmart/images/information-account/close.svg" alt="close"/>
        </span>
        <h2>Cập nhật ảnh đại diện</h2>
    </div>
    <input type="hidden" name="zoomValue" value="0" />
    <div class="imgContainer">
        <div class="result" id="inputImg"></div>
        <div class="zoom-btn">
            <div class="zoom-out">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/ZoomOut.svg" alt="ZoomOut"/>
            </div>
            <div id="zoom-slider"></div>
            <div class="zoom-in">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/ZoomIn.svg" alt="ZoomIn"/>
            </div>
        </div>
        <div class="button">
            <button type="button" id="btnRestore">Hủy bỏ</button>
            <button type="button" id="btnCrop">Lưu thay đổi</button>
        </div>
    </div>
</div>

<!-- Upload Email -->
<div class="popup popup-email">
    <div class="head">
        <span class="close">
             <img src="design/themes/bright_theme/media/tatmart/images/information-account/close.svg" alt="close"/>
        </span>
        <h2>Cập nhật email mới</h2>
    </div>
    <form method="post" action="#">
        <div class="form-input">
            <label>Địa chỉ email</label>
            <input title="email" type="text" name="email" class="input" />
            <div class="delete">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/delete.svg" alt="delete"/>
            </div>
        </div>
        <p class="note">Mã xác thực (OTP) sẽ được gửi đến email này để xác minh  email là của bạn</p>
        <div class="bottom">
            <a href="otp-email.html" type="submit" class="submit">Lưu thay đổi</a>
        </div>
    </form>
</div>

<!-- Upload Phone -->
<div class="popup popup-phone">
    <div class="head">
        <span class="close">
             <img src="design/themes/bright_theme/media/tatmart/images/information-account/close.svg" alt="close"/>
        </span>
        <h2>Cập nhật số điện thoại</h2>
    </div>
    <form method="post" action="#">
        <div class="form-input">
            <label>Số điện thoại</label>
            <input title="phone" type="text" name="phone" class="input" />
            <div class="delete">
                <img src="design/themes/bright_theme/media/tatmart/images/information-account/delete.svg" alt="delete"/>
            </div>
        </div>
        <p class="note">Mã xác thực (OTP) sẽ được gửi đến số điện thoại này để xác minh  số điện thoại là của bạn</p>
        <div class="bottom">
            <a href="otp-phone.html" type="submit" class="submit">Lưu thay đổi</a>
        </div>
    </form>
</div>

<!--Jquery-->
<script src="js/information-account.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/cropper.js"></script>
<script>
    /* Processing Upload Avatar */
    let cropper = '';
    function cropImgFunc(event) {
	    let result = document.querySelector('#inputImg');
        if (event.target.files.length) {
	        $(".bg-black-opacity").show();
	        $(".popup-upload-avatar").addClass("active");
		    // start file reader
		    const reader = new FileReader();
		    reader.onload = function(event) {
			    if(event.target.result){
				    // create new image
				    let img = document.createElement('img');
				    img.id = 'image';
				    img.src = event.target.result;
				    img.width = window.innerWidth;
				    img.height = 360;
				    // clean result before
				    result.innerHTML = '';
				    // append new image
				    result.appendChild(img);
				    // init cropper
				    cropper = new Cropper(img, {
					    viewMode: 3,
                        aspectRatio: 1,
                        autoCropArea: 1,
                        cropBoxResizable: true,
                        dragMode: 'move',
					    zoomOnWheel: false,
                        ready: function(event) {
                          this.cropper = cropper;
                          $("input[name='zoomValue']").val(0);
                        }
				    });
			    }
		    };
		    reader.readAsDataURL(event.target.files[0]);
	    }
    }
    /* Zoom Slider */
    $('#zoom-slider').slider({
	    orientation: "horizontal",
	    range: "min",
	    max: 10,
	    min: 0,
	    value: 0,
	    step: 0.1,
	    slide: function ( event, ui ) {
          $("input[name='zoomValue']").val(ui.value);
          cropper.zoomTo(ui.value);
        }
    });
    /* Zoom In */
    $(".zoom-in").click(function (e){
      let currentValue =  $("input[name='zoomValue']").val();
        if(currentValue >= 0 && currentValue <= 10){
            $("input[name='zoomValue']").val(parseFloat(currentValue) + 0.1);
            cropper.zoomTo($("input[name='zoomValue']").val());
            $("#zoom-slider").slider({value: $("input[name='zoomValue']").val()});
        }
    });
    /* Zoom Out */
    $(".zoom-out").click(function (e){
	    let currentValue =  $("input[name='zoomValue']").val();
       if(currentValue >= 0.1){
	        $("input[name='zoomValue']").val(parseFloat(currentValue) - 0.1);
	        cropper.zoomTo($("input[name='zoomValue']").val());
	       $("#zoom-slider").slider({value: $("input[name='zoomValue']").val()});
        }
  });
    /* Cropper Save */
    $("#btnCrop").click(function (e){
      let img = cropper.getCroppedCanvas().toDataURL();
      console.log("img",img);
    });
    /* Cropper Restore */
    $('#btnRestore').click(function() {
	    $(".bg-black-opacity").hide();
	    $(".popup-upload-avatar").removeClass("active");
    });
</script>
</body>

</html>
